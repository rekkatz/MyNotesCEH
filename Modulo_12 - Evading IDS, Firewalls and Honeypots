CEH Practical Notes
------------------------------------------------
Modulo 12 - Evading IDS, Firewalls and Honeypots
------------------------------------------------

1 - Perform intrusion detection using various tools
	1.1 - Detect intrusions using Snort
		># snort -W --> Enumera la dirección física, la dirección IP y los controladores Ethernet de la máqina, pero todos están desactivados de forma predeterminada.
		># snort -dev -i 1 --> Habilita el controlador Ethernet indicado
		># snort -iX -A console -c C:\Snort\etc\snort.conf -l C:\Snort\log -K ascii 


	1.2 - Detect malicious network traffic using ZoneAlarm FREE FIREWALL 2019
	1.3 - Detect malicious network traffic using HoneyBOT

2 - Evade firewalls using various evasion techniques

		# The following are some firewall bypassing techniques:
		
			- Port Scanning
			- Firewalking
			- Banner Grabbing
			- IP Address Spoofing
			- Source Routing
			- Tiny Fragments
			- Using an IP Address in Place of URL
			- Using Anonymous Website Surfing Sites
			- Using a Proxy Server
			- ICMP Tunneling
			- ACK Tunneling
			- HTTP Tunneling
			- SSH Tunneling
			- DNS Tunneling
			- Through External Systems
			- Through MITM Attack
			- Through Content
			- Through XSS Attack

	2.1 - Bypass windows firewall using Nmap evasion techniques

		# Escaneo zombi

			># nmap -sI 10.10.10.19 -p- --open -Pn -n -v 10.10.10.10

				# Con este escaneo de NMAP, la dirección de origen será 10.10.10.19. Si en el máquina 10.10.10.10 tiene aplicada reglas de firewall para direcciones remotas externas, con la dirección IP 10.10.10.19 podremos escanear el rango de puertos ya que no aplica las reglas de firewall.

			># nmap -e eth0 -S 10.10.10.19 -p- --open -Pn -n -v 10.10.10.10

				# Con este comando, estamos spoofeando la dirección de origen por si la máquina víctina tiene reglas de firewall aplicadas para direcciones IP remotas.

	2.2 - Bypass firewall rules using HTTP/FTP tunneling

		*** Es lo mismo que Chisel ***

		# Ejecutar HTTPHost en la máquina víctima
		# Ejecutar HTTPPort en la máquina atacante y configurar:
			# Bypass mode --> Remote host
			# Port mapping --> Add
				# Cambiar:
					- Nombre
					- Local Port
					- Remote host
					- Remote port
		# Pulsar en Start para iniciar el Tunel HTTP

		Podemos probar a lanzar ftp como 127.0.0.1